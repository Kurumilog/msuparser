# üåç –ù–∞—Å—Ç—Ä–æ–π–∫–∞ —Å–µ—Ä–≤–µ—Ä–∞ Ubuntu —Å –Ω—É–ª—è

–≠—Ç–∞ –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏—è –ø–æ–º–æ–∂–µ—Ç —Ä–∞–∑–≤–µ—Ä–Ω—É—Ç—å –±–æ—Ç–∞ –Ω–∞ —á–∏—Å—Ç–æ–º —Å–µ—Ä–≤–µ—Ä–µ Ubuntu (20.04/22.04/24.04).

## üìã –ê–ª–≥–æ—Ä–∏—Ç–º —Ä–∞–±–æ—Ç—ã —Å–∏—Å—Ç–µ–º—ã

1.  **Systemd Timer (`msuparser-update.timer`)**:
    *   –†–∞–±–æ—Ç–∞–µ—Ç –∫–∞–∫ "–±—É–¥–∏–ª—å–Ω–∏–∫".
    *   –†–∞–∑ –≤ 3 –¥–Ω—è –∑–∞–ø—É—Å–∫–∞–µ—Ç —Å–µ—Ä–≤–∏—Å –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è.

2.  **Systemd Service (`msuparser-update.service`)**:
    *   –ó–∞–ø—É—Å–∫–∞–µ—Ç —Å–∫—Ä–∏–ø—Ç `update_schedule.sh`.
    *   –°–∫—Ä–∏–ø—Ç –∑–∞–ø—É—Å–∫–∞–µ—Ç Python-–ø–∞—Ä—Å–µ—Ä.
    *   –ü–∞—Ä—Å–µ—Ä —Å–∫–∞—á–∏–≤–∞–µ—Ç —Ä–∞—Å–ø–∏—Å–∞–Ω–∏–µ –∏ —Å–æ—Ö—Ä–∞–Ω—è–µ—Ç –µ–≥–æ –≤ `schedule.json`.

3.  **Systemd Service (`msuparser-bot.service`)**:
    *   –ó–∞–ø—É—Å–∫–∞–µ—Ç Go-–±–æ—Ç–∞ (`./bot`) –≤ —Ñ–æ–Ω–µ.
    *   –ï—Å–ª–∏ –±–æ—Ç —É–ø–∞–¥–µ—Ç, systemd –ø–µ—Ä–µ–∑–∞–ø—É—Å—Ç–∏—Ç –µ–≥–æ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏.
    *   –ë–æ—Ç —á–∏—Ç–∞–µ—Ç `schedule.json` –∏ –æ—Ç–ø—Ä–∞–≤–ª—è–µ—Ç —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è –≤ Telegram.

---

## üöÄ –ü–æ—à–∞–≥–æ–≤–∞—è —É—Å—Ç–∞–Ω–æ–≤–∫–∞

### 1. –ü–æ–¥–≥–æ—Ç–æ–≤–∫–∞ —Å–µ—Ä–≤–µ—Ä–∞

–ó–∞–π–¥–∏ –Ω–∞ —Å–µ—Ä–≤–µ—Ä –ø–æ SSH –∏ –æ–±–Ω–æ–≤–∏ –ø–∞–∫–µ—Ç—ã:
```bash
sudo apt update && sudo apt upgrade -y
```

–£—Å—Ç–∞–Ω–æ–≤–∏ –Ω–µ–æ–±—Ö–æ–¥–∏–º—ã–µ –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç—ã:
```bash
sudo apt install -y git python3 python3-venv python3-pip golang-go wget unzip
```

### 2. –£—Å—Ç–∞–Ω–æ–≤–∫–∞ Google Chrome (–¥–ª—è –ø–∞—Ä—Å–µ—Ä–∞)

–ü–∞—Ä—Å–µ—Ä—É –Ω—É–∂–µ–Ω –±—Ä–∞—É–∑–µ—Ä. –£—Å—Ç–∞–Ω–æ–≤–∏–º Chrome:

```bash
wget https://dl.google.com/linux/direct/google-chrome-stable_current_amd64.deb
sudo apt install -y ./google-chrome-stable_current_amd64.deb
rm google-chrome-stable_current_amd64.deb
```

–ü—Ä–æ–≤–µ—Ä—å —É—Å—Ç–∞–Ω–æ–≤–∫—É:
```bash
google-chrome --version
```

### 3. –ö–ª–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ –ø—Ä–æ–µ–∫—Ç–∞

```bash
# –°–æ–∑–¥–∞–µ–º –ø–∞–ø–∫—É –¥–ª—è –ø—Ä–æ–µ–∫—Ç–æ–≤ (–µ—Å–ª–∏ –Ω–µ—Ç)
mkdir -p ~/code/projects
cd ~/code/projects

# –ö–ª–æ–Ω–∏—Ä—É–µ–º —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π (–∑–∞–º–µ–Ω–∏ —Å—Å—ã–ª–∫—É –Ω–∞ —Å–≤–æ—é!)
git clone https://github.com/YOUR_USERNAME/msuparser.git
cd msuparser
```

### 4. –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –ø—Ä–æ–µ–∫—Ç–∞

–ó–∞–ø—É—Å—Ç–∏ —Å–∫—Ä–∏–ø—Ç –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–π –Ω–∞—Å—Ç—Ä–æ–π–∫–∏:
```bash
chmod +x setup.sh
./setup.sh
```

### 5. –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è

–û—Ç—Ä–µ–¥–∞–∫—Ç–∏—Ä—É–π —Ñ–∞–π–ª `config.py` –∏ –≤—Å—Ç–∞–≤—å —Å–≤–æ–∏ –¥–∞–Ω–Ω—ã–µ:
```bash
nano config.py
```
*(`Ctrl+O` –¥–ª—è —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏—è, `Enter`, `Ctrl+X` –¥–ª—è –≤—ã—Ö–æ–¥–∞)*

### 6. –ü—Ä–æ–≤–µ—Ä–∫–∞ –ø–∞—Ä—Å–µ—Ä–∞ (–í–∞–∂–Ω–æ!)

–ü–µ—Ä–µ–¥ –∑–∞–ø—É—Å–∫–æ–º –±–æ—Ç–∞ –Ω—É–∂–Ω–æ —É–±–µ–¥–∏—Ç—å—Å—è, —á—Ç–æ –ø–∞—Ä—Å–µ—Ä —Ä–∞–±–æ—Ç–∞–µ—Ç –∏ —Å–æ–∑–¥–∞–ª —Ñ–∞–π–ª `schedule.json`.

```bash
source venv/bin/activate
python parser_full.py
deactivate
```

–ï—Å–ª–∏ –≤–∏–¥–∏—à—å "‚úÖ –°–æ—Ö—Ä–∞–Ω–µ–Ω–æ –≤ schedule.json", –∑–Ω–∞—á–∏—Ç –≤—Å—ë –æ—Ç–ª–∏—á–Ω–æ.

### 7. –ó–∞–ø—É—Å–∫ —á–µ—Ä–µ–∑ Systemd (–†–µ–∫–æ–º–µ–Ω–¥—É–µ–º—ã–π —Å–ø–æ—Å–æ–±)

–≠—Ç–æ—Ç —Å–ø–æ—Å–æ–± –≥–∞—Ä–∞–Ω—Ç–∏—Ä—É–µ—Ç, —á—Ç–æ –±–æ—Ç –±—É–¥–µ—Ç —Ä–∞–±–æ—Ç–∞—Ç—å –≤—Å–µ–≥–¥–∞, –¥–∞–∂–µ –ø–æ—Å–ª–µ –ø–µ—Ä–µ–∑–∞–≥—Ä—É–∑–∫–∏ —Å–µ—Ä–≤–µ—Ä–∞.

1.  **–í–∫–ª—é—á–∏ "lingering"** (—á—Ç–æ–±—ã —Å–µ—Ä–≤–∏—Å—ã —Ä–∞–±–æ—Ç–∞–ª–∏ –±–µ–∑ –≤—Ö–æ–¥–∞ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è):
    ```bash
    loginctl enable-linger $USER
    ```

2.  **–£—Å—Ç–∞–Ω–æ–≤–∏ —Å–µ—Ä–≤–∏—Å—ã:**
    ```bash
    chmod +x install_services.sh
    ./install_services.sh
    ```

3.  **–ü—Ä–æ–≤–µ—Ä—å —Å—Ç–∞—Ç—É—Å:**
    ```bash
    systemctl --user status msuparser-bot
    ```
    –î–æ–ª–∂–Ω–æ –±—ã—Ç—å –Ω–∞–ø–∏—Å–∞–Ω–æ `Active: active (running)`.

---

## üõ† –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ

### –ü—Ä–æ—Å–º–æ—Ç—Ä –ª–æ–≥–æ–≤
```bash
# –õ–æ–≥–∏ –±–æ—Ç–∞ (–æ—à–∏–±–∫–∏, –æ—Ç–ø—Ä–∞–≤–∫–∞ —Å–æ–æ–±—â–µ–Ω–∏–π)
journalctl --user -u msuparser-bot -f

# –õ–æ–≥–∏ –ø–∞—Ä—Å–µ—Ä–∞ (–æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ —Ä–∞—Å–ø–∏—Å–∞–Ω–∏—è)
journalctl --user -u msuparser-update -f
```

### –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –±–æ—Ç–æ–º
```bash
# –ü–µ—Ä–µ–∑–∞–ø—É—Å—Ç–∏—Ç—å
systemctl --user restart msuparser-bot

# –û—Å—Ç–∞–Ω–æ–≤–∏—Ç—å
systemctl --user stop msuparser-bot
```

### –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ –∫–æ–¥–∞
–ï—Å–ª–∏ —Ç—ã –æ–±–Ω–æ–≤–∏–ª –∫–æ–¥ –Ω–∞ GitHub –∏ —Ö–æ—á–µ—à—å –æ–±–Ω–æ–≤–∏—Ç—å –µ–≥–æ –Ω–∞ —Å–µ—Ä–≤–µ—Ä–µ:

```bash
cd ~/code/projects/msuparser
git pull
go build -o bot main.go
systemctl --user restart msuparser-bot
```

---

## ‚ùì –†–µ—à–µ–Ω–∏–µ –ø—Ä–æ–±–ª–µ–º

**–ü—Ä–æ–±–ª–µ–º–∞:** –ë–æ—Ç –Ω–µ –æ—Ç–≤–µ—á–∞–µ—Ç –Ω–∞ `/start`.
**–†–µ—à–µ–Ω–∏–µ:**
1. –ü—Ä–æ–≤–µ—Ä—å, –∑–∞–ø—É—â–µ–Ω –ª–∏ –ø—Ä–æ—Ü–µ—Å—Å: `ps aux | grep bot`
2. –ü–æ—Å–º–æ—Ç—Ä–∏ –ª–æ–≥–∏: `journalctl --user -u msuparser-bot -n 50`
3. –£–±–µ–¥–∏—Å—å, —á—Ç–æ –≤ `config.py` –ø—Ä–∞–≤–∏–ª—å–Ω—ã–π —Ç–æ–∫–µ–Ω.

**–ü—Ä–æ–±–ª–µ–º–∞:** –ü–∞—Ä—Å–µ—Ä –ø–∞–¥–∞–µ—Ç —Å –æ—à–∏–±–∫–æ–π Chrome.
**–†–µ—à–µ–Ω–∏–µ:**
–ü–æ–ø—Ä–æ–±—É–π —É–¥–∞–ª–∏—Ç—å –∫—ç—à –¥—Ä–∞–π–≤–µ—Ä–æ–≤ –∏ –∑–∞–ø—É—Å—Ç–∏—Ç—å —Å–Ω–æ–≤–∞:
```bash
rm -rf ~/.wdm
source venv/bin/activate
python parser_full.py
```
